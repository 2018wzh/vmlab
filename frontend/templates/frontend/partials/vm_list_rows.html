{% for vm in vms %}
<tr>
  <td>{{ forloop.counter }}</td>
  <td>{{ vm.name }}</td>
  <td>{{ vm.status }}</td>
  <td>{{ vm.ip_address }}</td>
  <td>
    <button class="btn btn-sm btn-success" 
      hx-post="/api/vms/{{ vm.id }}/start/" 
      hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      hx-swap="none"
      hx-trigger="click">Start</button>
    <button class="btn btn-sm btn-warning" 
      hx-post="/api/vms/{{ vm.id }}/stop/" 
      hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      hx-swap="none"
      hx-trigger="click">Stop</button>
    <a href="/vms/{{ vm.id }}/" class="btn btn-sm btn-info">Console</a>
  </td>
</tr>
{% empty %}
<tr><td colspan="5">No virtual machines found.</td></tr>
{% endfor %}
